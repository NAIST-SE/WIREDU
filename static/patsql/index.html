<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>PATSQL: Efficient Synthesis of SQL Queries from Example Tables with Quick Inference of Projected Columns
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/idea.css">
  <link rel="stylesheet" href="./css/custom.css">

</head>

<body>
  <div id="header_div">
    <div id="header_item">
      <div id="logo">
        <a href="index.html" style="text-decoration: none; color: white;">
          <span>P<span style="font-size: smaller;">AT</span>SQL</span>
        </a>
      </div>
      <div id="about_div">
        <a href="about.html" style="text-decoration: none; color: white;">
          <span>About</span>
        </a>
        <a lang="en" href="index.html?lang=jpn" style="padding-left: 20px; text-decoration: none; color: lightgray;">
          <span>
            <font style="font-size: smaller;">日本語</font>
          </span>
        </a>
        <a lang="jpn" href="index.html?lang=en" style="padding-left: 20px; text-decoration: none; color: lightgray;">
          <span>
            <font style="font-size: smaller;">ENG</font>
          </span>
        </a>
      </div>
    </div>
  </div>

  <div id="header">
    <p id="lead" lang="en">
      P<span style="font-size: smaller;">AT</span>SQL automatically synthesizes SQL queries (in particular, SELECT statements) from input-output
      tables.<br>
      Each time you update the tables, the synthesis result is automatically updated.<br>
      (The synthesis may result in a time-out if the system could not find an appropriate query.) <br>
      Please feel free to edit the following tables and see resultant queries.  You can also use example tables:
      <select id="template_en" style="width: 120px; height: 20px;">
        <option value="init" selected="selected">-- Examples --</option>
        <option value="where">WHERE clause</option>
        <option value="join">JOIN clause</option>
        <option value="group">GROBY BY clause</option>
        <option value="subquery">nested query</option>
        <option value="window">window functions</option>
      </select>
    </p>
    <p id="lead" lang="jpn">
      P<span style="font-size: smaller;">AT</span>SQL</span>
      は、与えられた入出力テーブルの例から SQL クエリ（SELECT文）を自動生成する技術です。<br>
      テーブルの内容が更新される度に、INPUT として指定されたテーブル群から OUTPUT テーブルを取り出す SQLクエリが自動的に生成されます。<br>
      （適切なSQLクエリが見つからない場合は一定時間でを処理を中止します）<br>
      以下のテーブルを自由に編集して、どのようなクエリが得られるかを試してみてください。また、いくつかの入出力テーブルの例も用意しています：
      <select id="template_jpn" style="width: 150px; height: 20px;">
        <option value="init" selected="selected">-- テンプレート --</option>
        <option value="where">WHERE 句</option>
        <option value="join">JOIN 句</option>
        <option value="group">GROBY BY 句</option>
        <option value="subquery">サブクエリ</option>
        <option value="window">ウィンドウ関数</option>
      </select>
    </p>
  </div>

  <div id="main">
    <div id="left_area">
      <div class="table">
        <div id="o-title-bar" class="output-title-bar">
          <div style="font-weight: bold; color: white">
            OUTPUT
          </div>
        </div>
        <div id="o-table">
        </div>
      </div>
      <div id="input_tables"> </div>
      <div style="text-align: center">
        <button lang="en"　type='button' onclick='addInputTable()'>(Click here to add an input table)</button>
        <button lang="jpn" type='button' onclick='addInputTable()'>(入力テーブルを追加するにはここをクリック)</button>
        <button type='button' id="delete-itbl-btn" onclick='deleteInputTable()'><div lang="en">(Click here to remove a table)</div><div lang="jpn">(テーブルを削除するにはここをクリック)</div></button>
      </div>
    </div>
    <div id="center_area">
      <div id="query_area">
        <div id="output-query">
          <pre style="text-align: center">The resulting query will appear here.</pre>
        </div>
        <div id="copy-button-area">
          <div class="tooltip">
            <button onclick="copyQuery()" onmouseout="copyQueryOut()" class="button copy-button">
              <span class="tooltiptext" id="myTooltip">Copy?</span>
              Copy
            </button>
          </div>
        </div>
      </div>
      <div id="options">
        <div align="center">
          <div class="message" lang="en">Constants used in predicates</div>
          <div class="message" lang="jpn">条件式で使用する定数</div>
          <table id="const-table"> </table>
          <button lang="en" type='button' onclick='addEmptyConstRow()'>(Click here to add a constant)</button>
          <button lang="jpn" type='button' onclick='addEmptyConstRow()'>(定数を追加するにはここをクリック)</button>
        </div>
        <div id="config-file" align="center">
          <div class="message" lang="en">Save &amp; Load</div>
          <div class="message" lang="jpn">設定の保存と読み込み</div>
          <button class="button" lang="en" onclick="saveTextAsFile()">Save the current configuration</button>
          <button class="button" lang="jpn" onclick="saveTextAsFile()">現在の設定をファイルに保存する</button>
          <input type="file" style="display:none" id="fileToLoad" onChange='loadFile()'>
          <button lang="en" onclick="selectConfigFile()">Load a configuration</button>
          <button lang="jpn" onclick="selectConfigFile()">設定をファイルから読み込む</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./lib/jquery-3.3.1.js"></script>
  <script src="./lib/jquery.color-2.1.2.js"></script>
  <script type="text/javascript" src="./js/multilang.js"></script>

  <!-- 
    Note: we use JavaScript library "handsontable" with our commercial-license. 
    When you copy this code, check if additional license would be reqired or not. 
    https://handsontable.com/
  -->
  <link rel="stylesheet" href="./lib/handsontable/dist/handsontable.full.min.css">
  <script src="./lib/handsontable/dist/handsontable.full.min.js"></script>

  <script src="./lib/FileSaver/dist/FileSaver.min.js"></script>
  <script type="text/javascript" src="./lib/highlight.pack.js"></script>
  <script type="text/javascript" src="./js/templetes.js"></script>
  <script type="text/javascript" src="./js/patsql.js"></script>
</body>

</html>
